local test = require 'u-test'

-------------------------------------------------------------------------------
test.tokenizeForestPart = function()

    tree = tokenizeForestPart("SM_Conifer_03,-227,1036,5,23,51256,100")

    test.equal(tree.mesh, 'SM_Conifer_03')
    test.equal(tree.x,-227)
    test.equal(tree.y,1036)
    test.equal(tree.z,5)
    test.equal(tree.rotation,23)
    test.equal(tree.age,51256)
    test.equal(tree.health,100)

end
-------------------------------------------------------------------------------
test.calculateTreeMeshByAge = function()

    test.equal(calculateTreeMeshByAge('SM_Conifer_01', 10), 'SM_Conifer_01') -- not enough
    test.equal(calculateTreeMeshByAge('SM_Conifer_01', 10000000), 'SM_Conifer_02') -- should age
    test.equal(calculateTreeMeshByAge('SM_Conifer_02', 10000000), 'SM_Conifer_03') -- should age, leading zero
    test.equal(calculateTreeMeshByAge('SM_Conifer_03', 10000000), 'SM_Conifer_03') -- upper limit

end
-------------------------------------------------------------------------------
test.distance3D = function()
    v1={0,0,0}
    v2={10,10,0}
    distance = distance3D(v1,v2)
    test.assert(distance == math.sqrt(200))
end
-------------------------------------------------------------------------------
test.testMigrate = function()
    test.assert(migrateTreeMesh("tree_01") == "SM_Conifer_03")
    test.assert(migrateTreeMesh("something_else_1234") == "something_else_1234")
    test.assert(migrateTreeMesh("SM_Conifer_03") == "SM_Conifer_03")
end
-------------------------------------------------------------------------------
-- function findEmptyLocationNear(forest)
-------------------------------------------------------------------------------

test.summary()